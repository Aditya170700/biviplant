import{C as N,D as V,g as D,s as F,f as n,b as c,w as g,u as e,a as t,q as T,e as m,E as h,c as u,j as a,G as x,F as f,l as y,k,o as d,t as b,H as j,L as C}from"./app.982608ae.js";import{_ as B}from"./Header.8faac16e.js";import{S as H}from"./Sidebar.c72865c7.js";import{_ as q}from"./Footer.b68b957e.js";import{F as _}from"./FormText.6c4399ca.js";import{S as E}from"./SpinnerProcessing.77a69ef5.js";import{s as G,a as O,b as I,c as J,d as Q,O as R}from"./geosearch.module.14e7ae8c.js";import"./_plugin-vue_export-helper.cdc0426e.js";const W=["content"],X=["content"],Y={class:"page-content-wrapper"},Z={class:"container"},ee={class:"profile-wrapper-area py-3"},te={class:"card"},se={class:"card-body p-4"},oe={class:"d-flex align-items-center justify-content-between mb-3"},ie=t("span",{class:"h6"},"Tambah Alamat",-1),le=t("i",{class:"lni lni-arrow-left me-2"},null,-1),de=["onSubmit"],ae={class:"row"},re=t("div",{class:"col-lg-12 py-2"},[t("hr")],-1),ne={class:"col-1g-12 py-2"},ce={style:{height:"50vh",width:"100%","z-index":"1 !important"}},ue={key:0,class:"collapse show",style:{width:"205px"}},me={class:"card card-body rounded-0 border border-dark p-0"},_e=["onClick"],pe={key:0},ge={class:"col-6 mb-3"},he={class:"mb-3"},be=t("label",{for:"longitude",class:"form-label"},"Longitude",-1),ve={class:"col-6 mb-3"},fe={class:"mb-3"},ye=t("label",{for:"latitude",class:"form-label"},"Latitude",-1),ke={class:"col-6 mb-3"},we={class:"mb-3"},xe=t("label",{for:"receiver",class:"form-label"},"Nama Penerima",-1),Ve={class:"col-6 mb-3"},Ce={class:"mb-3"},$e=t("label",{for:"phone",class:"form-label"},"No HP",-1),ze={class:"col-12 mb-3"},Ae=t("label",{for:"province_id",class:"form-label"},"Provinsi",-1),Se=["value"],Ue={class:"col-12 mb-3"},Le=t("label",{for:"city_id",class:"form-label"},"Kabupaten / Kota",-1),Ke=["value"],Pe={class:"col-12 mb-3"},Me=t("label",{for:"subdistrict_id",class:"form-label"},"Kecamatan",-1),Ne=["value"],De={class:"col-12 mb-3"},Fe={class:"mb-3"},Te=t("label",{for:"postal_code",class:"form-label"},"Kode Pos",-1),je={class:"col-12 mb-3"},Be={class:"mb-3"},He=t("label",{for:"detail",class:"form-label"},"Alamat Detail",-1),qe={class:"col-6"},Ee={class:"d-grid"},Ge=["disabled"],Oe={class:"d-flex justify-content-center align-items-center"},Ie=t("span",null,[t("i",{class:"lni lni-save me-2"}),k("Simpan")],-1),Je={class:"col-6"},Qe={class:"d-grid"},Re=t("i",{class:"lni lni-arrow-left me-2"},null,-1),We=t("div",{class:"internet-connection-status",id:"internetStatus"},null,-1),at={__name:"Create",setup(Xe){let w=N(),v=V({zoom:5});const s=D({province_id:"",city_id:"",subdistrict_id:"",longitude:0,latitude:0,receiver:"",phone:"",postal_code:"",detail:""});let r=V({provinces:[],cities:[],subdistricts:[],searchAddress:[],preview:null}),$=()=>{axios.get("/api/provinces").then(l=>{r.provinces=l.data.data}).catch(l=>{console.log(l)})},z=l=>{axios.get("/api/cities",{params:{province_id:l}}).then(o=>{r.cities=o.data.data}).catch(o=>{console.log(o)})},A=l=>{axios.get("/api/subdistricts",{params:{city_id:l}}).then(o=>{r.subdistricts=o.data.data}).catch(o=>{console.log(o)})};function S(){navigator.geolocation?navigator.geolocation.getCurrentPosition(l=>{s.latitude=l.coords.latitude,s.longitude=l.coords.longitude}):console.log("Geolocation is not supported by this browser.")}F(()=>{$(),S()});function U(l){let o=l.target.getLatLng();s.longitude=o.lng,s.latitude=o.lat}function L(l){s.longitude=l.latlng.lng,s.latitude=l.latlng.lat}function K(l){new R().search({query:l.target.value}).then(i=>{r.searchAddress=i})}function P(l,o){s.longitude=o,s.latitude=l,r.searchAddress=[]}function M(){s.transform(l=>({...l})).post(route("address.store"))}return(l,o)=>(d(),n("div",null,[c(e(j),null,{default:g(()=>[t("title",null,b(e(w).metaTitle),1),t("meta",{"head-key":"description",name:"description",content:e(w).metaDescription},null,8,W),t("meta",{"head-key":"keyword",name:"keyword",content:e(w).metaKeyword},null,8,X)]),_:1}),c(B),c(H),t("div",Y,[t("div",Z,[t("div",ee,[t("div",te,[t("div",se,[t("div",oe,[ie,c(e(C),{href:l.route("address.index"),class:"btn btn-sm btn-outline-secondary"},{default:g(()=>[le,k("Kembali ")]),_:1},8,["href"])]),t("form",{onSubmit:T(M,["prevent"])},[t("div",ae,[re,t("div",ne,[t("div",ce,[c(e(Q),{modelValue:e(v).zoom,"onUpdate:modelValue":o[0]||(o[0]=i=>e(v).zoom=i),zoom:e(v).zoom,"onUpdate:zoom":o[1]||(o[1]=i=>e(v).zoom=i),center:[e(s).latitude,e(s).longitude],onClick:L},{default:g(()=>[c(e(G),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),c(e(O),{position:"topright"},{default:g(()=>[t("input",{onKeyup:K,type:"text",placeholder:"Cari...",style:{width:"100%"}},null,32),e(r).searchAddress.length>0?(d(),n("div",ue,[t("div",me,[(d(!0),n(f,null,y(e(r).searchAddress,(i,p)=>(d(),n("p",{style:{cursor:"pointer"},key:p,onClick:Ye=>P(i.y,i.x)},b(i.label),9,_e))),128)),e(r).searchAddress<1?(d(),n("p",pe," Alamat tidak ditemukan ")):a("",!0)])])):a("",!0)]),_:1}),c(e(I),{"lat-lng":[e(s).latitude,e(s).longitude],draggable:"",onMoveend:U},{default:g(()=>[c(e(J),null,{default:g(()=>[k(b(`Lat: ${e(s).latitude} Lng: ${e(s).longitude}`),1)]),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])])]),t("div",ge,[t("div",he,[be,m(t("input",{class:"form-control",id:"longitude","onUpdate:modelValue":o[2]||(o[2]=i=>e(s).longitude=i),disabled:""},null,512),[[h,e(s).longitude]]),e(s).errors.longitude?(d(),u(_,{key:0,id:"longitude",message:e(s).errors.longitude},null,8,["message"])):a("",!0)])]),t("div",ve,[t("div",fe,[ye,m(t("input",{class:"form-control",id:"latitude","onUpdate:modelValue":o[3]||(o[3]=i=>e(s).latitude=i),disabled:""},null,512),[[h,e(s).latitude]]),e(s).errors.latitude?(d(),u(_,{key:0,id:"latitude",message:e(s).errors.latitude},null,8,["message"])):a("",!0)])]),t("div",ke,[t("div",we,[xe,m(t("input",{class:"form-control",id:"receiver","onUpdate:modelValue":o[4]||(o[4]=i=>e(s).receiver=i)},null,512),[[h,e(s).receiver]]),e(s).errors.receiver?(d(),u(_,{key:0,id:"receiver",message:e(s).errors.receiver},null,8,["message"])):a("",!0)])]),t("div",Ve,[t("div",Ce,[$e,m(t("input",{class:"form-control",id:"sender","onUpdate:modelValue":o[5]||(o[5]=i=>e(s).phone=i)},null,512),[[h,e(s).phone]]),e(s).errors.phone?(d(),u(_,{key:0,id:"phone",message:e(s).errors.phone},null,8,["message"])):a("",!0)])]),t("div",ze,[Ae,m(t("select",{class:"form-control mb-3","onUpdate:modelValue":o[6]||(o[6]=i=>e(s).province_id=i),id:"province_id",onChange:o[7]||(o[7]=i=>e(z)(e(s).province_id))},[(d(!0),n(f,null,y(e(r).provinces,(i,p)=>(d(),n("option",{value:i.id,key:p},b(i.name),9,Se))),128))],544),[[x,e(s).province_id]]),e(s).errors.province_id?(d(),u(_,{key:0,id:"province_id",message:e(s).errors.province_id},null,8,["message"])):a("",!0)]),t("div",Ue,[Le,m(t("select",{class:"form-control mb-3","onUpdate:modelValue":o[8]||(o[8]=i=>e(s).city_id=i),id:"city_id",onChange:o[9]||(o[9]=i=>e(A)(e(s).city_id))},[(d(!0),n(f,null,y(e(r).cities,(i,p)=>(d(),n("option",{value:i.id,key:p},b(i.name),9,Ke))),128))],544),[[x,e(s).city_id]]),e(s).errors.city_id?(d(),u(_,{key:0,id:"city_id",message:e(s).errors.city_id},null,8,["message"])):a("",!0)]),t("div",Pe,[Me,m(t("select",{class:"form-control mb-3","onUpdate:modelValue":o[10]||(o[10]=i=>e(s).subdistrict_id=i),id:"subdistrict_id"},[(d(!0),n(f,null,y(e(r).subdistricts,(i,p)=>(d(),n("option",{value:i.id,key:p},b(i.name),9,Ne))),128))],512),[[x,e(s).subdistrict_id]]),e(s).errors.subdistrict_id?(d(),u(_,{key:0,id:"subdistrict_id",message:e(s).errors.subdistrict_id},null,8,["message"])):a("",!0)]),t("div",De,[t("div",Fe,[Te,m(t("input",{class:"form-control",id:"postal_code","onUpdate:modelValue":o[11]||(o[11]=i=>e(s).postal_code=i)},null,512),[[h,e(s).postal_code]]),e(s).errors.postal_code?(d(),u(_,{key:0,id:"postal_code",message:e(s).errors.postal_code},null,8,["message"])):a("",!0)])]),t("div",je,[t("div",Be,[He,m(t("textarea",{class:"form-control",id:"detail",rows:"3","onUpdate:modelValue":o[12]||(o[12]=i=>e(s).detail=i)},null,512),[[h,e(s).detail]]),e(s).errors.detail?(d(),u(_,{key:0,id:"detail",message:e(s).errors.detail},null,8,["message"])):a("",!0)])]),t("div",qe,[t("div",Ee,[t("button",{class:"btn btn-success rounded-custom",disabled:e(s).processing},[t("div",Oe,[e(s).processing?(d(),u(E,{key:0,color:"text-white",size:"sm",me:"me-2"})):a("",!0),Ie])],8,Ge)])]),t("div",Je,[t("div",Qe,[c(e(C),{href:l.route("address.index"),class:"btn btn-outline-secondary rounded-custom"},{default:g(()=>[Re,k("Kembali ")]),_:1},8,["href"])])])])],40,de)])])])])]),We,c(q)]))}};export{at as default};
