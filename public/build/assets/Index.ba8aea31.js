import{L as N}from"./App.7c1811e5.js";import{P as U}from"./Pagination.92ebe8c4.js";import{_ as G,L as j,g as D,D as F,s as T,E as u,o as l,c as r,w as S,a as o,q as A,b as f,e as m,G as h,l as c,I as x,f as _,k as v,F as b,t as n,J as M,z as B,j as I}from"./app.2ece4c57.js";import{S as z}from"./SpinnerProcessing.7fd23347.js";import{F as E}from"./FormText.8452aee3.js";const H={components:{Layout:N,Link:j,SpinnerProcessing:z,FormText:E,Pagination:U},props:{errors:Object,result:Object},setup(V){const s=D({province_id:"",city_id:"",subdistrict_id:"",longitude:0,latitude:0,sender:"",phone:"",postal_code:"",detail:""});let d=F({provinces:[],cities:[],subdistricts:[],searchAddress:[],preview:null});function e(i){d.preview=i,new bootstrap.Modal(document.getElementById("preview"),{keyboard:!1}).show()}let C=()=>{M.get("/api/provinces").then(i=>{d.provinces=i.data.data}).catch(i=>{console.log(i)})},L=i=>{M.get("/api/cities",{params:{province_id:i}}).then(t=>{d.cities=t.data.data}).catch(t=>{console.log(t)})},p=i=>{M.get("/api/subdistricts",{params:{city_id:i}}).then(t=>{d.subdistricts=t.data.data}).catch(t=>{console.log(t)})};function y(){navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{s.latitude=i.coords.latitude,s.longitude=i.coords.longitude}):console.log("Geolocation is not supported by this browser.")}T(()=>{C(),y()});function w(){s.transform(i=>({...i})).post(route("admin.origins.store"),{onSuccess:()=>{s.reset("province_id","city_id","subdistrict_id","longitude","latitude","sender","phone","postal_code","detail")}})}let a=i=>{confirmation("Tindakan ini akan menghapus data secara permanen").then(t=>{t&&B.Inertia.delete(route("admin.origins.destroy",{id:i}))})};function k(i){s.latitude=i.latLng.lat(),s.longitude=i.latLng.lng()}function P(i){s.latitude=i.geometry.location.lat(),s.longitude=i.geometry.location.lng()}return{other:d,getCity:L,getSubdistrict:p,form:s,preview:e,submit:w,destroy:a,dragend:k,setPlace:P}}},q={class:"row"},O={class:"col-md-12 grid-margin"},J={class:"card"},Q={class:"card-body"},R={class:"row"},W={class:"col-lg-12 mb-3"},X={class:"mb-3"},Y=o("label",{for:"address",class:"form-label d-flex justify-content-between"},[o("span",null,"Lokasi")],-1),Z={class:"col-lg-6 mb-3"},$={class:"mb-3"},oo=o("label",{for:"longitude",class:"form-label"},"Longitude",-1),eo={class:"col-lg-6 mb-3"},to={class:"mb-3"},so=o("label",{for:"latitude",class:"form-label"},"Latitude",-1),io={class:"col-lg-6 mb-3"},lo={class:"mb-3"},no=o("label",{for:"sender",class:"form-label"},"Nama Pengirim",-1),ao={class:"col-lg-6 mb-3"},ro={class:"mb-3"},co=o("label",{for:"phone",class:"form-label"},"No HP",-1),mo={class:"col-lg-3 mb-3"},_o=o("label",{for:"province_id",class:"form-label"},"Provinsi",-1),go=["value"],uo={class:"col-lg-3 mb-3"},ho=o("label",{for:"city_id",class:"form-label"},"Kabupaten / Kota",-1),fo=["value"],vo={class:"col-lg-3 mb-3"},bo=o("label",{for:"subdistrict_id",class:"form-label"},"Kecamatan",-1),po=["value"],yo={class:"col-lg-3 mb-3"},wo={class:"mb-3"},ko=o("label",{for:"postal_code",class:"form-label"},"Kode Pos",-1),Po={class:"col-lg-12 mb-3"},xo={class:"mb-3"},Mo=o("label",{for:"detail",class:"form-label"},"Alamat Detail",-1),Co={class:"col-lg-12"},Lo=["disabled"],So={class:"d-flex justify-content-center align-items-center"},Vo=o("span",null,[o("i",{class:"fas fa-save me-2"}),I("Simpan")],-1),Ko={class:"col-md-12 grid-margin"},No={class:"modal fade",id:"preview",tabindex:"-1","aria-labelledby":"previewLabel","aria-hidden":"true"},Uo={class:"modal-dialog"},Go={class:"modal-content rounded-custom"},jo={key:0,class:"modal-body"},Do={class:"d-flex justify-content-between align-items-center mb-3"},Fo=o("div",{class:"h5"},"Preview Suplier",-1),To=["href"],Ao=o("i",{class:"fas fa-location-arrow"},null,-1),Bo=[Ao],Io={class:"row"},zo=o("div",{class:"col-lg-4"},"Pengirim",-1),Eo={class:"col-lg-8"},Ho={class:"row"},qo=o("div",{class:"col-lg-4"},"No HP",-1),Oo={class:"col-lg-8"},Jo={class:"row"},Qo=o("div",{class:"col-lg-4"},"Provinsi",-1),Ro={class:"col-lg-8"},Wo={class:"row"},Xo=o("div",{class:"col-lg-4"},"Kota / Kabupaten",-1),Yo={class:"col-lg-8"},Zo={class:"row"},$o=o("div",{class:"col-lg-4"},"Kecamatan",-1),oe={class:"col-lg-8"},ee={class:"row"},te=o("div",{class:"col-lg-4"},"Kode Pos",-1),se={class:"col-lg-8"},ie={class:"row"},le=o("div",{class:"col-lg-4"},"Alamat Detail",-1),ne={class:"col-lg-8"},de={class:"card"},ae={class:"card-body"},re={class:"row"},ce={class:"col-lg-12"},me={class:"table-responsive"},_e={class:"table"},ge=o("thead",{class:"table-dark"},[o("tr",null,[o("th",null,"No"),o("th",null,"Pengirim"),o("th",null,"No Hp"),o("th",null,"Provinsi"),o("th",null,"Kota / Kabupaten"),o("th",null,"Kecamatan"),o("th",null,"Kode Pos"),o("th")])],-1),ue={class:"d-flex justify-content-end"},he=["onClick"],fe=o("i",{class:"fas fa-eye"},null,-1),ve=[fe],be=["onClick"],pe=o("i",{class:"fas fa-trash"},null,-1),ye=[pe];function we(V,s,d,e,C,L){const p=u("GMapAutocomplete"),y=u("GMapMarker"),w=u("GMapMap"),a=u("FormText"),k=u("SpinnerProcessing"),P=u("Pagination"),i=u("Layout");return l(),r(i,{title:"Suplier"},{default:S(()=>[o("div",q,[o("div",O,[o("div",J,[o("div",Q,[o("form",{onSubmit:s[11]||(s[11]=A((...t)=>e.submit&&e.submit(...t),["prevent"]))},[o("div",R,[o("div",W,[o("div",X,[Y,f(p,{placeholder:"Cari...",onPlace_changed:e.setPlace,class:"form-control mb-2"},null,8,["onPlace_changed"]),f(w,{style:{width:"100%",height:"500px"},center:{lat:e.form.latitude,lng:e.form.longitude},zoom:15,onClick:e.dragend},{default:S(()=>[f(y,{position:{lat:e.form.latitude,lng:e.form.longitude},clickable:!0,draggable:!0,onDrag:e.dragend},null,8,["position","onDrag"])]),_:1},8,["center","onClick"])])]),o("div",Z,[o("div",$,[oo,m(o("input",{class:"form-control",id:"longitude","onUpdate:modelValue":s[0]||(s[0]=t=>e.form.longitude=t),disabled:""},null,512),[[h,e.form.longitude]]),e.form.errors.longitude?(l(),r(a,{key:0,id:"longitude",message:e.form.errors.longitude},null,8,["message"])):c("",!0)])]),o("div",eo,[o("div",to,[so,m(o("input",{class:"form-control",id:"latitude","onUpdate:modelValue":s[1]||(s[1]=t=>e.form.latitude=t),disabled:""},null,512),[[h,e.form.latitude]]),e.form.errors.latitude?(l(),r(a,{key:0,id:"latitude",message:e.form.errors.latitude},null,8,["message"])):c("",!0)])]),o("div",io,[o("div",lo,[no,m(o("input",{class:"form-control",id:"sender","onUpdate:modelValue":s[2]||(s[2]=t=>e.form.sender=t)},null,512),[[h,e.form.sender]]),e.form.errors.sender?(l(),r(a,{key:0,id:"sender",message:e.form.errors.sender},null,8,["message"])):c("",!0)])]),o("div",ao,[o("div",ro,[co,m(o("input",{class:"form-control",id:"sender","onUpdate:modelValue":s[3]||(s[3]=t=>e.form.phone=t)},null,512),[[h,e.form.phone]]),e.form.errors.phone?(l(),r(a,{key:0,id:"phone",message:e.form.errors.phone},null,8,["message"])):c("",!0)])]),o("div",mo,[_o,m(o("select",{class:"form-control mb-3","onUpdate:modelValue":s[4]||(s[4]=t=>e.form.province_id=t),id:"province_id",onChange:s[5]||(s[5]=t=>e.getCity(e.form.province_id))},[(l(!0),_(b,null,v(e.other.provinces,(t,g)=>(l(),_("option",{value:t.id,key:g},n(t.name),9,go))),128))],544),[[x,e.form.province_id]]),e.form.errors.province_id?(l(),r(a,{key:0,id:"province_id",message:e.form.errors.province_id},null,8,["message"])):c("",!0)]),o("div",uo,[ho,m(o("select",{class:"form-control mb-3","onUpdate:modelValue":s[6]||(s[6]=t=>e.form.city_id=t),id:"city_id",onChange:s[7]||(s[7]=t=>e.getSubdistrict(e.form.city_id))},[(l(!0),_(b,null,v(e.other.cities,(t,g)=>(l(),_("option",{value:t.id,key:g},n(t.name),9,fo))),128))],544),[[x,e.form.city_id]]),e.form.errors.city_id?(l(),r(a,{key:0,id:"city_id",message:e.form.errors.city_id},null,8,["message"])):c("",!0)]),o("div",vo,[bo,m(o("select",{class:"form-control mb-3","onUpdate:modelValue":s[8]||(s[8]=t=>e.form.subdistrict_id=t),id:"subdistrict_id"},[(l(!0),_(b,null,v(e.other.subdistricts,(t,g)=>(l(),_("option",{value:t.id,key:g},n(t.name),9,po))),128))],512),[[x,e.form.subdistrict_id]]),e.form.errors.subdistrict_id?(l(),r(a,{key:0,id:"subdistrict_id",message:e.form.errors.subdistrict_id},null,8,["message"])):c("",!0)]),o("div",yo,[o("div",wo,[ko,m(o("input",{class:"form-control",id:"postal_code","onUpdate:modelValue":s[9]||(s[9]=t=>e.form.postal_code=t)},null,512),[[h,e.form.postal_code]]),e.form.errors.postal_code?(l(),r(a,{key:0,id:"postal_code",message:e.form.errors.postal_code},null,8,["message"])):c("",!0)])]),o("div",Po,[o("div",xo,[Mo,m(o("textarea",{class:"form-control",id:"detail",rows:"3","onUpdate:modelValue":s[10]||(s[10]=t=>e.form.detail=t)},null,512),[[h,e.form.detail]]),e.form.errors.detail?(l(),r(a,{key:0,id:"detail",message:e.form.errors.detail},null,8,["message"])):c("",!0)])]),o("div",Co,[o("button",{class:"btn btn-primary btn-sm rounded-custom",disabled:e.form.processing},[o("div",So,[e.form.processing?(l(),r(k,{key:0,color:"text-white",size:"sm",me:"me-2"})):c("",!0),Vo])],8,Lo)])])],32)])])]),o("div",Ko,[o("div",No,[o("div",Uo,[o("div",Go,[e.other.preview?(l(),_("div",jo,[o("div",Do,[Fo,o("a",{href:`https://www.google.com/maps/?q=${e.other.preview.latitude},${e.other.preview.longitude}`,target:"_blank",class:"btn btn-primary btn-sm rounded-custom"},Bo,8,To)]),o("div",Io,[zo,o("div",Eo," : "+n(e.other.preview.sender),1)]),o("div",Ho,[qo,o("div",Oo," : "+n(e.other.preview.phone),1)]),o("div",Jo,[Qo,o("div",Ro," : "+n(e.other.preview.subdistrict.city.province.name),1)]),o("div",Wo,[Xo,o("div",Yo," : "+n(e.other.preview.subdistrict.city.name),1)]),o("div",Zo,[$o,o("div",oe," : "+n(e.other.preview.subdistrict.name),1)]),o("div",ee,[te,o("div",se," : "+n(e.other.preview.postal_code),1)]),o("div",ie,[le,o("div",ne," : "+n(e.other.preview.detail),1)])])):c("",!0)])])]),o("div",de,[o("div",ae,[o("div",re,[o("div",ce,[o("div",me,[o("table",_e,[ge,o("tbody",null,[(l(!0),_(b,null,v(d.result.data,(t,g)=>(l(),_("tr",{key:g},[o("td",null,n(g+1),1),o("td",null,n(t.sender),1),o("td",null,n(t.phone),1),o("td",null,n(t.subdistrict.city.province.name),1),o("td",null,n(t.subdistrict.city.name),1),o("td",null,n(t.subdistrict.name),1),o("td",null,n(t.postal_code),1),o("td",ue,[o("button",{class:"btn btn-sm btn-primary me-2 rounded-custom",onClick:K=>e.preview(t)},ve,8,he),o("button",{class:"btn btn-sm btn-danger me-2 rounded-custom",onClick:K=>e.destroy(t.id)},ye,8,be)])]))),128))])]),f(P,{class:"mt-2",links:d.result.links,from:d.result.from,to:d.result.to,total:d.result.total},null,8,["links","from","to","total"])])])])])])])])]),_:1})}const Le=G(H,[["render",we]]);export{Le as default};
