import{h as u,K as r,P as h,M as v,s as y,f as n,b as m,w,u as _,a as e,F as k,l as x,e as b,E as S,i as C,o,t as i,H as A}from"./app.7cdc33b8.js";import{_ as B}from"./HeaderWithTitle.9da8eb88.js";import{S as M}from"./Sidebar.3bfa4cf9.js";const T=["content"],D=["content"],E={class:"page-content-wrapper"},H=e("div",{class:"live-chat-intro mb-3",style:{position:"fixed",width:"100%","z-index":"1000"}},[e("p",null,"Mulai Percakapan Dengan Admin"),e("img",{src:"/assets/images/customer-service.png",alt:""}),e("div",{class:"status online"},"Admin sedang online")],-1),N={class:"support-wrapper py-3",style:{"padding-top":"200px !important"}},z={class:"container"},V={key:0,class:"agent-message-content d-flex align-items-start"},j={class:"agent-message-text"},F={class:"d-block mt-2"},O={style:{"font-size":"10px"}},P={key:1,class:"user-message-content"},K={class:"user-message-text"},L={class:"d-block mt-2 mt-3"},R={style:{"background-color":"#ffffff !important",color:"#747794"}},U={style:{"font-size":"10px"}},q={class:"type-text-form"},G={action:"#"},I=e("img",{src:"/assets/images/send-message.png",alt:"",style:{opacity:"0.5"}},null,-1),J=[I],Y={__name:"Chat",props:{meta_title:String,meta_description:String,meta_keyword:String,user:Object,conversation:Object},setup(l){const c=l;let s=u(""),d=u([]);d.value=c.conversation.messages,r.on("message",a=>{d.value.push(a),h(()=>{route().current()=="chat.index"&&window.scrollTo(0,window.document.getElementsByClassName("page-content-wrapper")[0].scrollHeight)})}),r.on("notif-chat",a=>{console.log("Admin membalas chat anda."),alert("Admin membalas chat anda."),v("Admin membalas chat anda.")});function g(a){a.preventDefault(),s.value!=""&&(r.emit("message-to-admin",{user_id:c.user.id,message:s.value,conversation_id:c.conversation.id}),s.value="")}return y(()=>{h(()=>{window.scrollTo(0,window.document.getElementsByClassName("page-content-wrapper")[0].scrollHeight)})}),(a,p)=>(o(),n("div",null,[m(_(A),null,{default:w(()=>[e("title",null,i(l.meta_title),1),e("meta",{"head-key":"description",name:"description",content:l.meta_description},null,8,T),e("meta",{"head-key":"keyword",name:"keyword",content:l.meta_keyword},null,8,D)]),_:1}),m(B,{link_back:"/",title:"Chat"}),m(M),e("div",E,[H,e("div",N,[e("div",z,[(o(!0),n(k,null,x(_(d),(t,f)=>(o(),n("div",{class:"live-chat-wrapper",key:f},[t.user.role=="admin"?(o(),n("div",V,[e("div",j,[e("div",F,[e("p",null,i(t.message),1),e("span",O,i(t.date_time_formated),1)])])])):(o(),n("div",P,[e("div",K,[e("div",L,[e("p",R,i(t.message),1)]),e("span",U,i(t.date_time_formated),1)])]))]))),128))])])]),e("div",q,[e("form",G,[b(e("textarea",{style:{height:"69px"},class:"form-control","onUpdate:modelValue":p[0]||(p[0]=t=>C(s)?s.value=t:s=t),cols:"30",rows:"20",placeholder:"Tulis pesan"},null,512),[[S,_(s)]]),e("button",{type:"submit",onClick:g},J)])])]))}};export{Y as default};
