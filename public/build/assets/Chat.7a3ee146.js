import{h as p,K as u,O as g,s as v,f as a,b as d,w as y,u as m,a as e,F as w,l as k,e as x,E as b,i as C,o,t as n,H as S}from"./app.db081f79.js";import{_ as B}from"./HeaderWithTitle.b935cd24.js";import{S as T}from"./Sidebar.3c88382c.js";const D=["content"],E=["content"],H={class:"page-content-wrapper"},M=e("div",{class:"live-chat-intro mb-3",style:{position:"fixed",width:"100%","z-index":"1000"}},[e("p",null,"Mulai Percakapan Dengan Admin"),e("img",{src:"/assets/images/customer-service.png",alt:""}),e("div",{class:"status online"},"Admin sedang online")],-1),N={class:"support-wrapper py-3",style:{"padding-top":"200px !important"}},z={class:"container"},O={key:0,class:"agent-message-content d-flex align-items-start"},V={class:"agent-message-text"},j={class:"d-block mt-2"},A={style:{"font-size":"10px"}},F={key:1,class:"user-message-content"},K={class:"user-message-text"},L={class:"d-block mt-2 mt-3"},P={style:{"background-color":"#ffffff !important",color:"#747794"}},R={style:{"font-size":"10px"}},U={class:"type-text-form"},q={action:"#"},G=e("img",{src:"/assets/images/send-message.png",alt:"",style:{opacity:"0.5"}},null,-1),I=[G],X={__name:"Chat",props:{meta_title:String,meta_description:String,meta_keyword:String,user:Object,conversation:Object},setup(i){const c=i;let s=p(""),r=p([]);r.value=c.conversation.messages,u.on("message",l=>{r.value.push(l),g(()=>{route().current()=="chat.index"&&window.scrollTo(0,window.document.getElementsByClassName("page-content-wrapper")[0].scrollHeight)})});function h(l){l.preventDefault(),s.value!=""&&(u.emit("message-to-admin",{user_id:c.user.id,message:s.value,conversation_id:c.conversation.id}),s.value="")}return v(()=>{g(()=>{window.scrollTo(0,window.document.getElementsByClassName("page-content-wrapper")[0].scrollHeight)})}),(l,_)=>(o(),a("div",null,[d(m(S),null,{default:y(()=>[e("title",null,n(i.meta_title),1),e("meta",{"head-key":"description",name:"description",content:i.meta_description},null,8,D),e("meta",{"head-key":"keyword",name:"keyword",content:i.meta_keyword},null,8,E)]),_:1}),d(B,{link_back:"/",title:"Chat"}),d(T),e("div",H,[M,e("div",N,[e("div",z,[(o(!0),a(w,null,k(m(r),(t,f)=>(o(),a("div",{class:"live-chat-wrapper",key:f},[t.user.role=="admin"?(o(),a("div",O,[e("div",V,[e("div",j,[e("p",null,n(t.message),1),e("span",A,n(t.date_time_formated),1)])])])):(o(),a("div",F,[e("div",K,[e("div",L,[e("p",P,n(t.message),1)]),e("span",R,n(t.date_time_formated),1)])]))]))),128))])])]),e("div",U,[e("form",q,[x(e("textarea",{style:{height:"69px"},class:"form-control","onUpdate:modelValue":_[0]||(_[0]=t=>C(s)?s.value=t:s=t),cols:"30",rows:"20",placeholder:"Tulis pesan"},null,512),[[b,m(s)]]),e("button",{type:"submit",onClick:h},I)])])]))}};export{X as default};
